---

import Logo from "@/assets/logo.svg";
import MainLayout from "./main-layout.astro";
import { ArrowLeftIcon } from "lucide-react";
import Tag from "@/components/content/tag.astro";
import type { BlogFronmatter } from "@/content.config";

type Props = {
  slug: string;
  title?: string;
  description?: string;
} & BlogFronmatter;

const { title, date, tags } = Astro.props;
---

<MainLayout {...Astro.props}>
  <div class="pb-4 text-sm flex items-center justify-between select-none">
    <a href="/blog" class="flex items-center">
      <ArrowLeftIcon className="w-4 mr-2" />
      <span class="flex-1 capitalize">Blog</span>
    </a>
    <div class="flex items-center">
      <a href="/" title="Home"><Logo /></a>
    </div>
  </div>
  <div class="mb-6 mt-2 border-b">
    <div class="text-xs text-foreground mb-2">
      {
        date.toLocaleDateString("en-US", {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        })
      }
    </div>
    <div class="space-y-4">
      <h1
        class="font-bold text-foreground text-2xl leading-relaxed lg:text-4xl lg:leading-tight"
      >
        {title}
      </h1>
      <div class="flex flex-wrap items-center">
        {tags.map((tag) => <Tag className="mb-4 mr-2" tag={tag} />)}
      </div>
    </div>
  </div>
  <article
    class="mt-2 mb-8 prose prose-headings:text-foreground prose-img:m-auto"
  >
    <slot />
  </article>
  <script
    src="https://giscus.app/client.js"
    data-repo="JfrAziz/jafaraziz.com"
    data-repo-id="R_kgDOJH8bCA"
    data-category="General"
    data-category-id="DIC_kwDOJH8bCM4CWoGI"
    data-mapping="title"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async></script>
</MainLayout>
